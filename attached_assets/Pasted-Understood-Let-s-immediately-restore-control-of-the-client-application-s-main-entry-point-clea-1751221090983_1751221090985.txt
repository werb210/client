Understood. Let’s immediately restore control of the **client application’s main entry point**, clean out test routes, and make the **new landing page the default home page**. Here’s exactly what we’ll do:

---

## ✅ Step-by-Step Fix Plan for Client App

### 1. **Set Landing Page as Default Route**

In `App.tsx` (or wherever your main router is defined), make sure:

```tsx
import { LandingPage } from "@/pages/LandingPage";

<Route path="/" element={<LandingPage />} />
```

* 🔥 **REMOVE test routes** like `/test`, `/demo`, `/auth-flow-test`, unless explicitly needed.
* ✅ Keep only core routes: `/`, `/register`, `/login`, `/request-reset`, `/dashboard`, `/apply/*`.

---

### 2. **Fix Auth Flow Entrypoint**

If login is broken or obscured:

* Ensure there's a **Sign In** link in the top-right of `<LandingPage />` that routes to `/login`
* Verify `/login` has a working form that posts to:

  ```ts
  POST https://staffportal.replit.app/api/auth/login
  ```

If you were using dev bypass, **check that it's removed or gated**:

```ts
if (import.meta.env.DEV) {
  // only allow bypass here
}
```

---

### 3. **Clean up `main.tsx`**

Ensure this mounts correctly:

```tsx
import React from "react";
import ReactDOM from "react-dom/client";
import App from "./App";

ReactDOM.createRoot(document.getElementById("root")!).render(<App />);
```

* 💥 NO test page overrides like:

  ```ts
  import { TestPage } from "@/pages/TestPage";
  root.render(<TestPage />);
  ```

---

### 4. **Confirm Working Auth Flows**

To log in like a user, use:

* Visit: `https://clientportal.replit.app/login`
* Use email/password if registration was done
* If OTP is required: check Twilio or dev override
* If reset needed: `https://clientportal.replit.app/request-reset`

---

### ✅ Replit Instructions

Tell Replit AI:

> “Remove all test routes and set `<LandingPage />` as the default `/` route. Ensure `/login`, `/register`, and `/request-reset` are accessible from the homepage and the main.tsx entry mounts App.tsx only. Clean up any test bypass logic or non-production entrypoints.”

---

Would you like me to generate the updated `App.tsx` and `main.tsx` now to enforce this structure?
