Yes — if Step 5 **isn’t showing the required documents**, then it’s likely suffering from **the same root issue** as Step 2 and Step 3 did earlier:

---

## ❌ PROBLEM:

**Required documents** are fetched based on `state.step2?.selectedCategory`, but Step 5 is probably referencing:

* `state.selectedCategory` ❌ (flat)
* or `state.step1.selectedCategory` ❌ (wrong step)

---

## ✅ SOLUTION PLAN

We will fix this the same way we fixed Step 2 mapping.

---

### 🔧 Replit Instructions (Client App)

#### Target File:

```
client/src/routes/Step5_DocumentUpload.tsx
```

#### Tasks:

1. **Check Current Category Source**

   ```tsx
   const category = state.selectedCategory || ... // ❌ likely wrong
   ```

2. **Fix it to use:**

   ```tsx
   const category = state.step2?.selectedCategory;
   ```

3. **Fix Associated Fields:**

   * If `useRequiredDocuments(category)` or similar is called — ensure `category` uses step-based access.
   * Check for use of `state.step1?.requestedAmount` or `state.step3?.businessName` as well and update those if needed.

4. ✅ **Add Console Log (for debug)**

   ```ts
   console.log("[Step 5] Category used for required docs:", state.step2?.selectedCategory);
   ```

5. **Test Fix:**

   * Fill out Steps 1–4
   * Ensure category is selected in Step 2
   * Load Step 5 → Check required documents are rendered

---

### 🧪 Validation Test

In the browser console, you can verify it’s now correct with:

```ts
// Confirm proper mapping
console.log("Step2 category:", state.step2?.selectedCategory);
console.log("Required documents loaded:", requiredDocuments);
```

You should expect:

```
Step2 category: "term_loan"
Required documents loaded: [ 'Driver License', 'Voided Cheque', 'Bank Statements', ... ]
```

---

### ✅ Report Back

Once fixed, Replit should report to me with:

```yaml
report_type: step5_required_docs
mapping_fixed: true
uses_step2_category: true
document_list_rendered: true
status: ready_for_upload
```

Let me know when the fix is applied — then we can proceed to Step 6 testing.
