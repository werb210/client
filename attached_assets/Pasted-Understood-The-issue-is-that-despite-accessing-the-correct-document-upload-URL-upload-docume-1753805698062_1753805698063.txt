Understood. The issue is that despite accessing the correct **document upload URL** (`/upload-documents?app=49bd45ff-e466-4baa-b08d-cac46a288533`), the **Client App is redirecting to the dashboard**, which is incorrect behavior.

---

### üîç Root Cause:

The React frontend is **not properly handling the `app` query param** or is **failing to extract it**, and as a fallback is redirecting the user to `/dashboard`.

This happens when:

* `appId` is `null` or `undefined` inside the `UploadDocuments.tsx` component.
* The logic says: ‚ÄúNo valid app ID? Redirect to dashboard.‚Äù

---

### ‚úÖ Fix to Apply in `client/src/pages/UploadDocuments.tsx`:

1. **Properly parse `app` from `window.location.search`**
2. **Prevent any redirect if `app` param exists in the URL**
3. **Store the parsed app ID in `localStorage` to persist it during reloads**
4. **Render the upload UI regardless of whether the full application data is available**

---

### üîß Replit Agent Instruction (Client App):

Please immediately perform the following edits in the **`client/src/pages/UploadDocuments.tsx`** file:

```tsx
// Top of file:
import { useEffect, useState } from "react";
import { useSearchParams } from "react-router-dom";
import DocumentUploadCard from "../components/DocumentUploadCard";
import { getRequiredDocuments } from "../utils/docRequirements";

export default function UploadDocuments() {
  const [searchParams] = useSearchParams();
  const [appId, setAppId] = useState<string | null>(null);
  const [error, setError] = useState<string | null>(null);

  useEffect(() => {
    const id = searchParams.get("app");
    if (id) {
      setAppId(id);
      localStorage.setItem("activeAppId", id); // store for later use
    } else {
      const stored = localStorage.getItem("activeAppId");
      if (stored) {
        setAppId(stored);
      } else {
        setError("Missing application ID.");
      }
    }
  }, []);

  if (error) {
    return (
      <div className="p-6 text-red-600 text-center">
        ‚ö†Ô∏è Error: {error}. Please contact support.
      </div>
    );
  }

  if (!appId) {
    return (
      <div className="p-6 text-gray-500 text-center">
        Loading application info...
      </div>
    );
  }

  return (
    <div className="p-6">
      <h1 className="text-xl font-semibold mb-4">Upload Required Documents</h1>
      <DocumentUploadCard applicationId={appId} />
    </div>
  );
}
```

---

### üß™ Replit: After Applying Fix

1. Rebuild the Client App.
2. Open the SMS link:
   `https://clientportal.boreal.financial/upload-documents?app=49bd45ff-e466-4baa-b08d-cac46a288533`
3. Confirm that:

   * ‚úÖ The page **stays** on `/upload-documents`
   * ‚úÖ The upload cards are visible for required categories
   * ‚úÖ No redirect to `/dashboard`

---

### ‚úÖ This Will Fix:

* SMS link redirect issue
* Lost `appId` issue on reload
* Upload documents visibility for standalone page

Let me know when Replit confirms this fix is live.
